{"ast":null,"code":"function FiltersLibrary(albums, filterDict) {\n  this.albums = albums;\n  this.filterDict = filterDict;\n  this.match = [];\n}\n\n// Filter by given value in specified fields\n_c = FiltersLibrary;\nFiltersLibrary.prototype.byKey = function (dictParam, fieldsToSearch) {\n  var searchVal = this.filterDict[dictParam];\n  for (let a of this.albums) {\n    fieldsToSearch.forEach(field => {\n      if (a[field].toLowerCase().includes(searchVal)) {\n        this.match.push(a.tralbum_id);\n      }\n    });\n  }\n};\nFiltersLibrary.prototype.byDateStart = function (dictParam) {\n  var searchVal = this.filterDict[dictParam];\n  for (let a of this.albums) {\n    if (new Date(a.published) > new Date(searchVal)) {\n      this.match.push(a.tralbum_id);\n    }\n  }\n};\nFiltersLibrary.prototype.byDateEnd = function (dictParam) {\n  var searchVal = this.filterDict[dictParam];\n  for (let a of this.albums) {\n    if (new Date(a.published) < new Date(searchVal)) {\n      this.match.push(a.tralbum_id);\n    }\n  }\n};\nFiltersLibrary.prototype.manage = function () {\n  for (let key in this.filterDict) {\n    var searchVal = this.filterDict[key];\n    if (searchVal.length > 0) {\n      switch (key) {\n        case 'byArtist':\n        case 'byAlbum':\n        case 'byGenres':\n        case 'byLabel':\n        case 'byOrigin':\n        case 'byDescription':\n          this.byKey(searchVal, key);\n          break;\n      }\n    }\n  }\n};\nvar _c;\n$RefreshReg$(_c, \"FiltersLibrary\");","map":{"version":3,"names":["FiltersLibrary","albums","filterDict","match","prototype","byKey","dictParam","fieldsToSearch","searchVal","a","forEach","field","toLowerCase","includes","push","tralbum_id","byDateStart","Date","published","byDateEnd","manage","key","length"],"sources":["/home/capitalturtle/react/client/src/components/FiltersLibrary.js"],"sourcesContent":["function FiltersLibrary(albums, filterDict) {\n    this.albums = albums\n    this.filterDict = filterDict\n    this.match = []\n}\n\n// Filter by given value in specified fields\nFiltersLibrary.prototype.byKey = function(dictParam, fieldsToSearch) {\n    var searchVal = this.filterDict[dictParam]\n    for (let a of this.albums) {\n        fieldsToSearch.forEach((field) => {\n            if (a[field].toLowerCase().includes(searchVal)) {\n                this.match.push(a.tralbum_id)\n            }\n        })\n    }\n}\n\nFiltersLibrary.prototype.byDateStart = function(dictParam) {\n    var searchVal = this.filterDict[dictParam]\n    for (let a of this.albums) {\n        if (new Date(a.published) > new Date(searchVal)) {\n            this.match.push(a.tralbum_id)\n        }\n    }\n}\n\nFiltersLibrary.prototype.byDateEnd = function(dictParam) {\n    var searchVal = this.filterDict[dictParam]\n    for (let a of this.albums) {\n        if (new Date(a.published) < new Date(searchVal)) {\n            this.match.push(a.tralbum_id)\n        }\n    }\n}\n\nFiltersLibrary.prototype.manage = function() {\n    for (let key in this.filterDict) {\n        var searchVal = this.filterDict[key]\n        if (searchVal.length > 0) {\n            switch(key) {\n                case 'byArtist':\n                case 'byAlbum':\n                case 'byGenres':\n                case 'byLabel':\n                case 'byOrigin':\n                case 'byDescription':\n                    this.byKey(searchVal, key)\n                    break\n            }\n        }\n    }\n}"],"mappings":"AAAA,SAASA,cAAc,CAACC,MAAM,EAAEC,UAAU,EAAE;EACxC,IAAI,CAACD,MAAM,GAAGA,MAAM;EACpB,IAAI,CAACC,UAAU,GAAGA,UAAU;EAC5B,IAAI,CAACC,KAAK,GAAG,EAAE;AACnB;;AAEA;AAAA,KANSH,cAAc;AAOvBA,cAAc,CAACI,SAAS,CAACC,KAAK,GAAG,UAASC,SAAS,EAAEC,cAAc,EAAE;EACjE,IAAIC,SAAS,GAAG,IAAI,CAACN,UAAU,CAACI,SAAS,CAAC;EAC1C,KAAK,IAAIG,CAAC,IAAI,IAAI,CAACR,MAAM,EAAE;IACvBM,cAAc,CAACG,OAAO,CAAEC,KAAK,IAAK;MAC9B,IAAIF,CAAC,CAACE,KAAK,CAAC,CAACC,WAAW,EAAE,CAACC,QAAQ,CAACL,SAAS,CAAC,EAAE;QAC5C,IAAI,CAACL,KAAK,CAACW,IAAI,CAACL,CAAC,CAACM,UAAU,CAAC;MACjC;IACJ,CAAC,CAAC;EACN;AACJ,CAAC;AAEDf,cAAc,CAACI,SAAS,CAACY,WAAW,GAAG,UAASV,SAAS,EAAE;EACvD,IAAIE,SAAS,GAAG,IAAI,CAACN,UAAU,CAACI,SAAS,CAAC;EAC1C,KAAK,IAAIG,CAAC,IAAI,IAAI,CAACR,MAAM,EAAE;IACvB,IAAI,IAAIgB,IAAI,CAACR,CAAC,CAACS,SAAS,CAAC,GAAG,IAAID,IAAI,CAACT,SAAS,CAAC,EAAE;MAC7C,IAAI,CAACL,KAAK,CAACW,IAAI,CAACL,CAAC,CAACM,UAAU,CAAC;IACjC;EACJ;AACJ,CAAC;AAEDf,cAAc,CAACI,SAAS,CAACe,SAAS,GAAG,UAASb,SAAS,EAAE;EACrD,IAAIE,SAAS,GAAG,IAAI,CAACN,UAAU,CAACI,SAAS,CAAC;EAC1C,KAAK,IAAIG,CAAC,IAAI,IAAI,CAACR,MAAM,EAAE;IACvB,IAAI,IAAIgB,IAAI,CAACR,CAAC,CAACS,SAAS,CAAC,GAAG,IAAID,IAAI,CAACT,SAAS,CAAC,EAAE;MAC7C,IAAI,CAACL,KAAK,CAACW,IAAI,CAACL,CAAC,CAACM,UAAU,CAAC;IACjC;EACJ;AACJ,CAAC;AAEDf,cAAc,CAACI,SAAS,CAACgB,MAAM,GAAG,YAAW;EACzC,KAAK,IAAIC,GAAG,IAAI,IAAI,CAACnB,UAAU,EAAE;IAC7B,IAAIM,SAAS,GAAG,IAAI,CAACN,UAAU,CAACmB,GAAG,CAAC;IACpC,IAAIb,SAAS,CAACc,MAAM,GAAG,CAAC,EAAE;MACtB,QAAOD,GAAG;QACN,KAAK,UAAU;QACf,KAAK,SAAS;QACd,KAAK,UAAU;QACf,KAAK,SAAS;QACd,KAAK,UAAU;QACf,KAAK,eAAe;UAChB,IAAI,CAAChB,KAAK,CAACG,SAAS,EAAEa,GAAG,CAAC;UAC1B;MAAK;IAEjB;EACJ;AACJ,CAAC;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}