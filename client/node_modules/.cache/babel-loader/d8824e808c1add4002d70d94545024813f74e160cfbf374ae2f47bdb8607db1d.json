{"ast":null,"code":"class FiltersLibrary {\n  constructor(albums, filterDict) {\n    this.albums = albums;\n    this.filterDict = filterDict;\n    this.match = [];\n  }\n\n  // Filter by given value in specified fields\n  byKey(dictParam, fieldsToSearch) {\n    console.log(dictParam);\n    console.log(fieldsToSearch);\n    var searchVal = this.filterDict[dictParam];\n    for (let a of this.albums) {\n      fieldsToSearch.forEach(field => {\n        if (a[field].toLowerCase().includes(searchVal)) {\n          this.match.push(a);\n        }\n      });\n    }\n  }\n  byDate(dictParam, mode) {\n    var searchVal = this.filterDict[dictParam];\n    for (let a of this.albums) {\n      if (new Date(a.published) > new Date(searchVal) && mode === 'byDateStart') {\n        this.match.push(a);\n      } else if (new Date(a.published) < new Date(searchVal) && mode === 'byDateEnd') {\n        this.match.push(a);\n      }\n    }\n  }\n  manage() {\n    for (let key in this.filterDict) {\n      var searchVal = this.filterDict[key];\n      var keySearch = ['artist', 'title', 'genres', 'band_name', 'album_description', 'label_origin'];\n      if (searchVal.length > 0) {\n        switch (key) {\n          case keySearch[0]:\n          case keySearch[1]:\n          case keySearch[2]:\n          case keySearch[3]:\n          case keySearch[4]:\n          case keySearch[5]:\n            this.byKey(searchVal, [key]);\n            break;\n          case 'byKey':\n            this.byKey(searchVal, keySearch);\n            break;\n          case 'byDateStart':\n          case 'byDateEnd':\n            this.byDate(searchVal, key);\n            break;\n        }\n      }\n    }\n    var toReturn = new Set(this.match);\n    return toReturn;\n  }\n}\nexport default FiltersLibrary;","map":{"version":3,"names":["FiltersLibrary","constructor","albums","filterDict","match","byKey","dictParam","fieldsToSearch","console","log","searchVal","a","forEach","field","toLowerCase","includes","push","byDate","mode","Date","published","manage","key","keySearch","length","toReturn","Set"],"sources":["/home/capitalturtle/react/client/src/components/FiltersLibrary.js"],"sourcesContent":["class FiltersLibrary {\n    constructor(albums, filterDict) {\n        this.albums = albums\n        this.filterDict = filterDict\n        this.match = []\n    }\n\n    // Filter by given value in specified fields\n    byKey(dictParam, fieldsToSearch) {\n        console.log(dictParam)\n        console.log(fieldsToSearch)\n        var searchVal = this.filterDict[dictParam]\n        for (let a of this.albums) {\n            fieldsToSearch.forEach((field) => {\n                if (a[field].toLowerCase().includes(searchVal)) {\n                    this.match.push(a)\n                }\n            })\n        }\n    }\n\n    byDate(dictParam, mode) {\n        var searchVal = this.filterDict[dictParam]\n        for (let a of this.albums) {\n            if ((new Date(a.published) > new Date(searchVal) && (mode === 'byDateStart'))) {\n                this.match.push(a)\n            } else if ((new Date(a.published) < new Date(searchVal) && (mode === 'byDateEnd'))) {\n                this.match.push(a)\n            }\n        }\n    }\n\n    manage() {\n        for (let key in this.filterDict) {\n            var searchVal = this.filterDict[key]\n            var keySearch = ['artist', 'title', 'genres', 'band_name', 'album_description', 'label_origin']\n            if (searchVal.length > 0) {\n                switch(key) {\n                    case keySearch[0]:\n                    case keySearch[1]:\n                    case keySearch[2]:\n                    case keySearch[3]:\n                    case keySearch[4]:\n                    case keySearch[5]:\n                        this.byKey(searchVal, [key])\n                        break\n                    case 'byKey':\n                        this.byKey(searchVal, keySearch)\n                        break\n                    case 'byDateStart':\n                    case 'byDateEnd':\n                        this.byDate(searchVal, key)\n                        break\n                }\n            }\n        }\n        var toReturn = new Set(this.match)\n        return toReturn\n    }\n}\n\nexport default FiltersLibrary"],"mappings":"AAAA,MAAMA,cAAc,CAAC;EACjBC,WAAW,CAACC,MAAM,EAAEC,UAAU,EAAE;IAC5B,IAAI,CAACD,MAAM,GAAGA,MAAM;IACpB,IAAI,CAACC,UAAU,GAAGA,UAAU;IAC5B,IAAI,CAACC,KAAK,GAAG,EAAE;EACnB;;EAEA;EACAC,KAAK,CAACC,SAAS,EAAEC,cAAc,EAAE;IAC7BC,OAAO,CAACC,GAAG,CAACH,SAAS,CAAC;IACtBE,OAAO,CAACC,GAAG,CAACF,cAAc,CAAC;IAC3B,IAAIG,SAAS,GAAG,IAAI,CAACP,UAAU,CAACG,SAAS,CAAC;IAC1C,KAAK,IAAIK,CAAC,IAAI,IAAI,CAACT,MAAM,EAAE;MACvBK,cAAc,CAACK,OAAO,CAAEC,KAAK,IAAK;QAC9B,IAAIF,CAAC,CAACE,KAAK,CAAC,CAACC,WAAW,EAAE,CAACC,QAAQ,CAACL,SAAS,CAAC,EAAE;UAC5C,IAAI,CAACN,KAAK,CAACY,IAAI,CAACL,CAAC,CAAC;QACtB;MACJ,CAAC,CAAC;IACN;EACJ;EAEAM,MAAM,CAACX,SAAS,EAAEY,IAAI,EAAE;IACpB,IAAIR,SAAS,GAAG,IAAI,CAACP,UAAU,CAACG,SAAS,CAAC;IAC1C,KAAK,IAAIK,CAAC,IAAI,IAAI,CAACT,MAAM,EAAE;MACvB,IAAK,IAAIiB,IAAI,CAACR,CAAC,CAACS,SAAS,CAAC,GAAG,IAAID,IAAI,CAACT,SAAS,CAAC,IAAKQ,IAAI,KAAK,aAAc,EAAG;QAC3E,IAAI,CAACd,KAAK,CAACY,IAAI,CAACL,CAAC,CAAC;MACtB,CAAC,MAAM,IAAK,IAAIQ,IAAI,CAACR,CAAC,CAACS,SAAS,CAAC,GAAG,IAAID,IAAI,CAACT,SAAS,CAAC,IAAKQ,IAAI,KAAK,WAAY,EAAG;QAChF,IAAI,CAACd,KAAK,CAACY,IAAI,CAACL,CAAC,CAAC;MACtB;IACJ;EACJ;EAEAU,MAAM,GAAG;IACL,KAAK,IAAIC,GAAG,IAAI,IAAI,CAACnB,UAAU,EAAE;MAC7B,IAAIO,SAAS,GAAG,IAAI,CAACP,UAAU,CAACmB,GAAG,CAAC;MACpC,IAAIC,SAAS,GAAG,CAAC,QAAQ,EAAE,OAAO,EAAE,QAAQ,EAAE,WAAW,EAAE,mBAAmB,EAAE,cAAc,CAAC;MAC/F,IAAIb,SAAS,CAACc,MAAM,GAAG,CAAC,EAAE;QACtB,QAAOF,GAAG;UACN,KAAKC,SAAS,CAAC,CAAC,CAAC;UACjB,KAAKA,SAAS,CAAC,CAAC,CAAC;UACjB,KAAKA,SAAS,CAAC,CAAC,CAAC;UACjB,KAAKA,SAAS,CAAC,CAAC,CAAC;UACjB,KAAKA,SAAS,CAAC,CAAC,CAAC;UACjB,KAAKA,SAAS,CAAC,CAAC,CAAC;YACb,IAAI,CAAClB,KAAK,CAACK,SAAS,EAAE,CAACY,GAAG,CAAC,CAAC;YAC5B;UACJ,KAAK,OAAO;YACR,IAAI,CAACjB,KAAK,CAACK,SAAS,EAAEa,SAAS,CAAC;YAChC;UACJ,KAAK,aAAa;UAClB,KAAK,WAAW;YACZ,IAAI,CAACN,MAAM,CAACP,SAAS,EAAEY,GAAG,CAAC;YAC3B;QAAK;MAEjB;IACJ;IACA,IAAIG,QAAQ,GAAG,IAAIC,GAAG,CAAC,IAAI,CAACtB,KAAK,CAAC;IAClC,OAAOqB,QAAQ;EACnB;AACJ;AAEA,eAAezB,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}