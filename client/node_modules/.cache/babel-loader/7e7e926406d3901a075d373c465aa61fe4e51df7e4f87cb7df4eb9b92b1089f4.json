{"ast":null,"code":"var _jsxFileName = \"/home/capitalturtle/react/client/src/components/Filters.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Form, Box, Button, Block, Notification } from 'react-bulma-components';\n\n// pobieranie slownika gatunkow\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Filters(_ref) {\n  _s();\n  let {\n    albums,\n    setRealFromChild\n  } = _ref;\n  const {\n    Input,\n    Field,\n    Control,\n    Label,\n    Select,\n    Help\n  } = Form;\n  const [filters, setFilters] = useState({\n    byWord: '',\n    byDate: ''\n  });\n  useEffect(() => {\n    let newReal = [];\n    console.log(albums);\n    for (let f in filters) {\n      if (filters[f].length > 0 && f === 'byWord') {\n        albums.map((a, i) => a.title.toLowerCase().includes(filters[f]) ? newReal.push(a) : false(a.artist.toLowerCase().includes(filters[f])) ? newReal.push(a) : false(a.genres.toLowerCase().includes(filters[f])) ? newReal.push(a) : false(a.band_name.toLowerCase().includes(filters[f])) ? newReal.push(a) : false(a.album_description.toLowerCase().includes(filters[f])) ? newReal.push(a) : false(a.label_origin.toLowerCase().includes(filters[f])) ? newReal.push(a) : false);\n      }\n    }\n    setRealFromChild(new Set(newReal));\n  }, [filters]);\n  const handleInput = e => {\n    const keyName = e.target.name;\n    const keyVal = e.target.value;\n    setFilters(prev => ({\n      ...prev,\n      [keyName]: keyVal\n    }));\n  };\n  return /*#__PURE__*/_jsxDEV(Field, {\n    horizontal: true,\n    children: [/*#__PURE__*/_jsxDEV(Field.Label, {\n      children: /*#__PURE__*/_jsxDEV(Label, {\n        children: \"Genres\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(Field.Body, {\n      children: /*#__PURE__*/_jsxDEV(Field, {\n        children: /*#__PURE__*/_jsxDEV(Control, {\n          children: /*#__PURE__*/_jsxDEV(Input, {\n            type: \"text\",\n            name: \"byWord\",\n            value: filters.byWord,\n            onChange: handleInput,\n            placeholder: \"ambient, London, etc.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, this);\n}\n_s(Filters, \"PpI+LadhUCdkgyykAWJ/UgX5240=\");\n_c = Filters;\nexport default Filters;\nvar _c;\n$RefreshReg$(_c, \"Filters\");","map":{"version":3,"names":["React","useState","useEffect","Form","Box","Button","Block","Notification","Filters","albums","setRealFromChild","Input","Field","Control","Label","Select","Help","filters","setFilters","byWord","byDate","newReal","console","log","f","length","map","a","i","title","toLowerCase","includes","push","artist","genres","band_name","album_description","label_origin","Set","handleInput","e","keyName","target","name","keyVal","value","prev"],"sources":["/home/capitalturtle/react/client/src/components/Filters.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { Form, Box, Button, Block, Notification } from 'react-bulma-components';\n\n// pobieranie slownika gatunkow\n\nfunction Filters({ albums, setRealFromChild }) {\n    const { Input, Field, Control, Label, Select, Help } = Form\n    const [filters, setFilters] = useState({\n        byWord: '',\n        byDate: ''\n    })\n\n    useEffect(() => {\n        let newReal = []\n        console.log(albums)\n        for (let f in filters) {\n            if (filters[f].length > 0 && f === 'byWord') {\n                albums.map((a, i) => (\n                    (a.title.toLowerCase().includes(filters[f])) ? newReal.push(a) : false\n                    (a.artist.toLowerCase().includes(filters[f])) ? newReal.push(a) : false\n                    (a.genres.toLowerCase().includes(filters[f])) ? newReal.push(a) : false\n                    (a.band_name.toLowerCase().includes(filters[f])) ? newReal.push(a) : false\n                    (a.album_description.toLowerCase().includes(filters[f])) ? newReal.push(a) : false\n                    (a.label_origin.toLowerCase().includes(filters[f])) ? newReal.push(a) : false\n                ))\n            }\n        }\n        setRealFromChild(new Set(newReal))\n    }, [filters])\n\n    const handleInput = (e) => {\n        const keyName = e.target.name\n        const keyVal = e.target.value\n        setFilters(prev => ({...prev, [keyName]: keyVal}))\n      }\n\n  return (\n    <Field horizontal>\n    <Field.Label>\n        <Label>Genres</Label>\n    </Field.Label>\n    <Field.Body>\n        <Field>\n            <Control>\n                <Input \n                    type='text'\n                    name='byWord'\n                    value={filters.byWord}\n                    onChange={handleInput}\n                    placeholder='ambient, London, etc.'/>\n            </Control>\n        </Field>\n    </Field.Body>\n</Field>\n  )\n}\n\nexport default Filters"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}